(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-210bdc2c"],{"4b6f":function(t,e,a){"use strict";a.r(e);var s=a("7a23");const c=Object(s["O"])("data-v-626b2916");Object(s["w"])("data-v-626b2916");const r={class:"container-fluid"},o=Object(s["h"])("div",{class:"row"},[Object(s["h"])("div",{class:"col-12"},[Object(s["h"])("h4",{class:"text-center mt-3"}," Tasks ")])],-1),n={class:"row"},l={class:"btn-group btn-block",role:"group","aria-label":"Basic example"},i={key:0,class:"row mt-4"},d={key:0},b={class:"card-body p-0 muted"},u={class:"card-header text-center bg-primary"},k={class:"card-text mt-1 ml-2"},O={class:"list-group list-group-flush mt-3 ml-5"},j={class:"mt-1 small"},h={class:"mt-1 small"},p={class:"btn-group btn-block btn-warning mt-3 unmuted",role:"group","aria-label":"Basic example"},g=Object(s["h"])("h6",{class:"m-0"}," Reactivate ",-1),m={key:1},y={class:"card-body p-0 shadow"},D={class:"card-header text-center bg-primary"},w={class:"card-text mt-1 ml-2"},v={class:"list-group list-group-flush mt-3 ml-5"},C={class:"mt-1 small"},T={class:"mt-1 small"};Object(s["u"])();const f=c((t,e,a,c,f,A)=>(Object(s["t"])(),Object(s["d"])("div",r,[o,Object(s["h"])("div",n,[Object(s["h"])("div",l,[Object(s["h"])("button",{type:"button",class:"btn btn-primary text-dark",onClick:e[1]||(e[1]=(...t)=>c.sortByComplete&&c.sortByComplete(...t))}," Completed "),Object(s["h"])("button",{type:"button",class:"btn btn-dark text-primary",onClick:e[2]||(e[2]=(...t)=>c.sortByDueDate&&c.sortByDueDate(...t))}," Due Date "),Object(s["h"])("button",{type:"button",class:"btn btn-primary text-dark",onClick:e[3]||(e[3]=(...t)=>c.sortByCreationDate&&c.sortByCreationDate(...t))}," Created Date ")])]),c.state.tasks?(Object(s["t"])(),Object(s["d"])("div",i,[(Object(s["t"])(!0),Object(s["d"])(s["a"],null,Object(s["z"])(c.state.tasks,t=>(Object(s["t"])(),Object(s["d"])("div",{class:"card mt-3",key:t.id},[t.closed?(Object(s["t"])(),Object(s["d"])("div",d,[Object(s["h"])("div",b,[Object(s["h"])("h6",u,Object(s["E"])(t.title),1),Object(s["h"])("div",k,Object(s["E"])(t.description),1),Object(s["h"])("ul",O,[Object(s["h"])("li",j," Created: "+Object(s["E"])(new Date(t.createdAt).toLocaleString()),1),Object(s["h"])("li",h," Due: "+Object(s["E"])(new Date(t.dueDate).toLocaleString()),1)]),Object(s["h"])("div",p,[Object(s["h"])("button",{class:"btn btn-dark",onClick:e=>c.toggleTask(t)},[g],8,["onClick"]),Object(s["h"])("button",{class:"btn btn-warning",type:"button",onClick:e=>c.removeTask(t)}," Delete Task ",8,["onClick"])])])])):(Object(s["t"])(),Object(s["d"])("div",m,[Object(s["h"])("div",y,[Object(s["h"])("h6",D,Object(s["E"])(t.title),1),Object(s["h"])("div",w,Object(s["E"])(t.description),1),Object(s["h"])("ul",v,[Object(s["h"])("li",C," Created: "+Object(s["E"])(new Date(t.createdAt).toLocaleString()),1),Object(s["h"])("li",T," Due: "+Object(s["E"])(new Date(t.dueDate).toLocaleString()),1)]),Object(s["h"])("button",{class:"btn btn-dark btn-block mt-3",onClick:e=>c.toggleTask(t)}," Complete ",8,["onClick"])])]))]))),128))])):Object(s["e"])("",!0)])));var A=a("83fc"),x=a("63b7"),B={name:"TasksPage",setup(){const t=Object(s["x"])({tasks:Object(s["b"])(()=>A["a"].tasks),dueDateToggle:!1,creationDateToggle:!1});return Object(s["r"])(async()=>{await x["a"].getAll()}),{state:t,async toggleTask(t){await x["a"].edit(t),await x["a"].getAll()},async removeTask(t){await x["a"].delete(t),await x["a"].getAll()},async sortByComplete(){t.tasks.sort((t,e)=>t.closed===e.closed?0:t?-1:1)},async sortByDueDate(){if(t.dueDateToggle)return t.tasks.sort((t,e)=>new Date(t.dueDate)-new Date(e.dueDate)),void(t.dueDateToggle=!1);t.tasks.sort((t,e)=>new Date(e.dueDate)-new Date(t.dueDate)),t.dueDateToggle=!0},async sortByCreationDate(){if(t.creationDateToggle)return t.tasks.sort((t,e)=>new Date(t.createdAt)-new Date(e.createdAt)),void(t.creationDateToggle=!1);t.tasks.sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt)),t.creationDateToggle=!0}}},components:{}};a("75c6");B.render=f,B.__scopeId="data-v-626b2916";e["default"]=B},"63b7":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var s=a("2b20"),c=a("83fc"),r=a("8a4e");class o{constructor(t){this.id=t.id||t._id,this.title=t.title,this.closed=t.closed,this.dueDate=t.dueDate,this.description=t.description,this.rentalId=t.rentalId,this.creatorId=t.creatorId,this.createdAt=t.createdAt,this.creator=t.creator}}class n{async getAll(){try{const t=await s["a"].get("api/tasks");c["a"].tasks=t.data.map(t=>new o(t))}catch(t){r["a"].log(t)}}async getTasksByRentalId(t){try{const e=await s["a"].get("api/tasks/"+t+"/tasks");c["a"].tasks=e.data.map(t=>new o(t))}catch(e){r["a"].error(e)}}async createTask(t){try{delete t.id;const e=await s["a"].post("api/tasks",t);return c["a"].tasks.push(e.data),e.data}catch(e){r["a"].error(e)}}async edit(t){try{const e=await s["a"].put("api/tasks/"+t.id);return e.data}catch(e){r["a"].error(e)}}async delete(t){const e=window.confirm("Are you sure you want to delete this task?");if(e)try{await s["a"].delete("/api/tasks/"+t.id),c["a"].tasks.splice(c["a"].tasks.indexOf(t),1)}catch(a){r["a"].error(a)}}}const l=new n},"75c6":function(t,e,a){"use strict";a("8012")},8012:function(t,e,a){}}]);