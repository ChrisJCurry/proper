(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36b54b47"],{2579:function(t,e,a){},"7b2f":function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var n=a("2b20"),c=a("83fc"),s=a("8a4e");class r{constructor(t){this.id=t.id||t._id,this.address=t.address||"Default Street",this.rent=t.rent||"0",this.yearBuilt=t.yearBuilt||"0",this.closed=t.closed,this.creatorId=t.creatorId,this.tenants=t.tenants||"",this.picture=t.picture||"",this.notes=t.notes}}class i{async getAll(){try{const t=await n["a"].get("api/rentals");c["a"].rentals=t.data.map(t=>new r(t))}catch(t){s["a"].error(t)}}async getById(t){try{const e=await n["a"].get("api/rentals/"+t);c["a"].rental=e.data}catch(e){s["a"].error(e)}}async getTasksById(t){try{const e=await n["a"].get("api/rentals/"+t+"/tasks");return e.data}catch(e){s["a"].error(e)}}async getNotesById(t){try{const e=await n["a"].get(`api/rentals/${t}/notes`);return e.data}catch(e){s["a"].error(e)}}async getTenantsByRentalId(t){try{const e=await n["a"].get("api/rentals/"+t+"/tenants");c["a"].rental.tenants=e.data,c["a"].tenant=e.data}catch(e){s["a"].log(e)}}async create(t){try{const e=await n["a"].post("api/rentals",t);return c["a"].rentals.push(e.data),e.data}catch(e){s["a"].error(e)}}async edit(t){try{const e=await n["a"].put("api/rentals/"+t.id,t);this.getById(e.data._id)}catch(e){s["a"].error(e)}}async delete(t){const e=window.confirm("Are you sure you want to remove this rental?");if(e)try{await n["a"].delete("api/rentals/"+t),this.getById(t)}catch(a){s["a"].error(a)}}}const d=new i},"849b":function(t,e,a){"use strict";a.r(e);var n=a("7a23");const c=Object(n["O"])("data-v-37e41700");Object(n["w"])("data-v-37e41700");const s={class:"rentals-page flex-grow-1"},r={key:0,class:"container-fluid mt-2"},i={key:0,class:"row"},d={key:1,class:"row"},o={key:1},l={key:0},b={key:1},u={class:"container-fluid mt-2 rentals-container"},O={class:"row"};Object(n["u"])();const j=c((t,e,a,c,j,h)=>{const y=Object(n["B"])("SkeletonLoader"),w=Object(n["B"])("Rental");return Object(n["t"])(),Object(n["d"])("div",s,[c.state.viewportWidth<=700?(Object(n["t"])(),Object(n["d"])("div",r,[!0===c.state.loading?(Object(n["t"])(),Object(n["d"])("div",i,[Object(n["h"])(y)])):(Object(n["t"])(),Object(n["d"])("div",d,[(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["z"])(c.state.rentals,t=>(Object(n["t"])(),Object(n["d"])(w,{key:t.id,rental:t},null,8,["rental"]))),128))]))])):(Object(n["t"])(),Object(n["d"])("div",o,[!0===c.state.loading?(Object(n["t"])(),Object(n["d"])("div",l,[Object(n["h"])(y)])):(Object(n["t"])(),Object(n["d"])("div",b,[Object(n["h"])("div",u,[Object(n["h"])("div",O,[(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["z"])(c.state.rentals,t=>(Object(n["t"])(),Object(n["d"])(w,{key:t.id,rental:t},null,8,["rental"]))),128))])])]))]))])});var h=a("83fc"),y=a("7b2f");const w=Object(n["i"])(()=>a.e("chunk-03509484").then(a.bind(null,"e5d4"))),p=Object(n["i"])(()=>a.e("chunk-af25fec4").then(a.bind(null,"fc81")));var f={name:"RentalsPage",setup(){const t=Object(n["x"])({viewportWidth:window.innerWidth,rentals:Object(n["b"])(()=>h["a"].rentals),tasks:Object(n["b"])(()=>{const t=[];return h["a"].tasks.forEach(e=>{t.push(...e)}),t}),filterOpen:!0,loading:!0});return Object(n["r"])(async()=>{t.loading=!0,window.addEventListener("resize",()=>{t.viewportWidth=window.innerWidth}),await y["a"].getAll(),t.loading=!1}),{state:t}},components:{Rental:w,SkeletonLoader:p}};a("bf0f");f.render=j,f.__scopeId="data-v-37e41700";e["default"]=f},bf0f:function(t,e,a){"use strict";a("2579")}}]);