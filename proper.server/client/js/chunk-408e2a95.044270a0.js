(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-408e2a95"],{5240:function(t,e,a){},"5e3c":function(t,e,a){"use strict";a("5240")},"7b2f":function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var n=a("2b20"),c=a("83fc"),s=a("8a4e");class r{constructor(t){this.id=t.id||t._id,this.address=t.address||"Default Street",this.rent=t.rent||"0",this.yearBuilt=t.yearBuilt||"0",this.closed=t.closed,this.creatorId=t.creatorId,this.tenants=t.tenants||"",this.picture=t.picture||"",this.notes=t.notes}}class i{async getAll(){try{const t=await n["a"].get("api/rentals");c["a"].rentals=t.data.map(t=>new r(t))}catch(t){s["a"].error(t)}}async getById(t){try{const e=await n["a"].get("api/rentals/"+t);c["a"].rental=e.data}catch(e){s["a"].error(e)}}async getTasksById(t){try{const e=await n["a"].get("api/rentals/"+t+"/tasks");return e.data}catch(e){s["a"].error(e)}}async getNotesById(t){try{const e=await n["a"].get(`api/rentals/${t}/notes`);return e.data}catch(e){s["a"].error(e)}}async getTenantsByRentalId(t){try{const e=await n["a"].get("api/rentals/"+t+"/tenants");c["a"].rental.tenants=e.data,c["a"].tenant=e.data}catch(e){s["a"].log(e)}}async create(t){try{const e=await n["a"].post("api/rentals",t);return c["a"].rentals.push(e.data),e.data}catch(e){s["a"].error(e)}}async edit(t){try{const e=await n["a"].put("api/rentals/"+t.id,t);this.getById(e.data._id)}catch(e){s["a"].error(e)}}async delete(t){const e=window.confirm("Are you sure you want to remove this rental?");if(e)try{await n["a"].delete("api/rentals/"+t),this.getById(t)}catch(a){s["a"].error(a)}}}const d=new i},"849b":function(t,e,a){"use strict";a.r(e);var n=a("7a23");const c=Object(n["O"])("data-v-cfa3dbec");Object(n["w"])("data-v-cfa3dbec");const s={class:"rentals-page flex-grow-1"},r={key:0,class:"container-fluid mt-2"},i={key:0,class:"row"},d={key:1,class:"row"},l={key:1},o={key:0},b={key:1},u={class:"container-fluid mt-2 rentals-container"},O={class:"row"},j={class:"container-fluid"},h={class:"container-fluid"};Object(n["u"])();const y=c((t,e,a,c,y,w)=>{const p=Object(n["B"])("SkeletonLoader"),k=Object(n["B"])("Rental"),f=Object(n["B"])("DesktopRentalTable"),v=Object(n["B"])("DesktopRentalTasks");return Object(n["t"])(),Object(n["d"])("div",s,[c.state.viewportWidth<=700?(Object(n["t"])(),Object(n["d"])("div",r,[!0===c.state.loading?(Object(n["t"])(),Object(n["d"])("div",i,[Object(n["h"])(p)])):(Object(n["t"])(),Object(n["d"])("div",d,[(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["z"])(c.state.rentals,t=>(Object(n["t"])(),Object(n["d"])(k,{key:t.id,rental:t},null,8,["rental"]))),128))]))])):(Object(n["t"])(),Object(n["d"])("div",l,[!0===c.state.loading?(Object(n["t"])(),Object(n["d"])("div",o,[Object(n["h"])(p)])):(Object(n["t"])(),Object(n["d"])("div",b,[Object(n["h"])("div",u,[Object(n["h"])("div",O,[(Object(n["t"])(!0),Object(n["d"])(n["a"],null,Object(n["z"])(c.state.rentals,t=>(Object(n["t"])(),Object(n["d"])(k,{key:t.id,rental:t},null,8,["rental"]))),128))])]),Object(n["h"])("div",j,[Object(n["h"])(f,{rentals:c.state.rentals},null,8,["rentals"])]),Object(n["h"])("div",h,[Object(n["h"])(v,{rentals:c.state.rentals},null,8,["rentals"])])]))]))])});var w=a("83fc"),p=a("7b2f");const k=Object(n["i"])(()=>a.e("chunk-03509484").then(a.bind(null,"e5d4"))),f=Object(n["i"])(()=>a.e("chunk-2d0dd49c").then(a.bind(null,"816c"))),v=Object(n["i"])(()=>a.e("chunk-2d0be314").then(a.bind(null,"2ee0"))),g=Object(n["i"])(()=>a.e("chunk-af25fec4").then(a.bind(null,"fc81")));var B={name:"RentalsPage",setup(){const t=Object(n["x"])({viewportWidth:window.innerWidth,rentals:Object(n["b"])(()=>w["a"].rentals),tasks:Object(n["b"])(()=>{const t=[];return w["a"].tasks.forEach(e=>{t.push(...e)}),t}),filterOpen:!0,loading:!0});return Object(n["r"])(async()=>{t.loading=!0,window.addEventListener("resize",()=>{t.viewportWidth=window.innerWidth}),await p["a"].getAll(),t.loading=!1}),{state:t}},components:{Rental:k,DesktopRentalTable:f,DesktopRentalTasks:v,SkeletonLoader:g}};a("5e3c");B.render=y,B.__scopeId="data-v-cfa3dbec";e["default"]=B}}]);