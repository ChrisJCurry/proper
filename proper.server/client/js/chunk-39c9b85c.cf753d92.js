(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39c9b85c"],{"63b7":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var s=a("2b20"),c=a("83fc"),d=a("8a4e");class l{constructor(t){this.id=t.id||t._id,this.title=t.title,this.closed=t.closed,this.dueDate=t.dueDate,this.description=t.description,this.rentalId=t.rentalId,this.creatorId=t.creatorId,this.createdAt=t.createdAt,this.creator=t.creator}}class i{async getAll(){try{const t=await s["a"].get("api/tasks");c["a"].tasks=t.data.map(t=>new l(t))}catch(t){d["a"].log(t)}}async getTasksByRentalId(t){try{const e=await s["a"].get("api/tasks/"+t+"/tasks");c["a"].tasks=e.data.map(t=>new l(t))}catch(e){d["a"].error(e)}}async createTask(t){try{delete t.id;const e=await s["a"].post("api/tasks",t);return c["a"].tasks.push(e.data),e.data}catch(e){d["a"].error(e)}}async edit(t){try{const e=await s["a"].put("api/tasks/"+t.id);return e.data}catch(e){d["a"].error(e)}}async delete(t){const e=window.confirm("Are you sure you want to delete this task?");if(e)try{await s["a"].delete("/api/tasks/"+t.id),c["a"].tasks.splice(c["a"].tasks.indexOf(t),1)}catch(a){d["a"].error(a)}}}const r=new i},c9d3:function(t,e,a){"use strict";a.r(e);var s=a("7a23");const c=Object(s["O"])("data-v-30b5112f");Object(s["w"])("data-v-30b5112f");const d={key:0,class:"create-task-modal"},l={class:"modal fade",id:"create-task",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},i={class:"modal-dialog",role:"document"},r={class:"modal-content"},o=Object(s["h"])("div",{class:"modal-header bg-primary border-bottom"},[Object(s["h"])("h4",{class:"modal-title"}," New Task "),Object(s["h"])("span",{type:"button",class:"close py-3","data-dismiss":"modal","aria-label":"Close"},[Object(s["h"])("span",{"aria-hidden":"true"},"×")])],-1),n={class:"modal-body"},b={class:"form-group"},h=Object(s["h"])("small",null,"Complete by: ",-1),u=Object(s["h"])("div",null,[Object(s["h"])("button",{class:"btn btn-success btn-block",type:"submit"}," Create ")],-1),p={key:1,class:"create-task-modal"},m={class:"modal fade",id:"create-task",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},k={class:"modal-dialog",role:"document"},O={class:"modal-content"},j=Object(s["h"])("div",{class:"modal-header bg-primary border-bottom"},[Object(s["h"])("h4",{class:"modal-title"}," New Task "),Object(s["h"])("span",{type:"button",class:"close py-3","data-dismiss":"modal","aria-label":"Close"},[Object(s["h"])("span",{"aria-hidden":"true"},"×")])],-1),y={class:"modal-body"},w={class:"form-group"},v=Object(s["g"])("Complete by: "),f=Object(s["h"])("div",null,[Object(s["h"])("button",{class:"btn btn-success mt-3",type:"submit"}," Create ")],-1);Object(s["u"])();const T=c((t,e,a,c,T,g)=>{const I=Object(s["B"])("Datepicker");return c.state.viewportWidth<=700?(Object(s["t"])(),Object(s["d"])("div",d,[Object(s["h"])("div",l,[Object(s["h"])("div",i,[Object(s["h"])("div",r,[o,Object(s["h"])("div",n,[Object(s["h"])("form",{class:"form-inline",onSubmit:e[4]||(e[4]=Object(s["N"])((...t)=>c.createTask&&c.createTask(...t),["prevent"]))},[Object(s["h"])("div",b,[Object(s["L"])(Object(s["h"])("input",{class:"mb-3",type:"text",placeholder:"Task Title","onUpdate:modelValue":e[1]||(e[1]=t=>c.state.task.title=t)},null,512),[[s["G"],c.state.task.title]]),Object(s["L"])(Object(s["h"])("textarea",{name:"task-text",id:"task-description",cols:"30",rows:"5",placeholder:"Add a Task","aria-describedby":"helpId","onUpdate:modelValue":e[2]||(e[2]=t=>c.state.task.description=t),required:""},null,512),[[s["G"],c.state.task.description]]),h,Object(s["h"])(I,{modelValue:c.dueDate,"onUpdate:modelValue":e[3]||(e[3]=t=>c.dueDate=t)},null,8,["modelValue"])]),u],32)])])])])])):(Object(s["t"])(),Object(s["d"])("div",p,[Object(s["h"])("div",m,[Object(s["h"])("div",k,[Object(s["h"])("div",O,[j,Object(s["h"])("div",y,[Object(s["h"])("form",{class:"form-inline",onSubmit:e[8]||(e[8]=Object(s["N"])((...t)=>c.createTask&&c.createTask(...t),["prevent"]))},[Object(s["h"])("div",null,[Object(s["L"])(Object(s["h"])("input",{class:"mb-3",type:"text",placeholder:"Task Title","onUpdate:modelValue":e[5]||(e[5]=t=>c.state.task.title=t)},null,512),[[s["G"],c.state.task.title]])]),Object(s["h"])("div",null,[Object(s["L"])(Object(s["h"])("textarea",{name:"task-text",id:"task-description",cols:"30",rows:"5",placeholder:"Add a Task","aria-describedby":"helpId","onUpdate:modelValue":e[6]||(e[6]=t=>c.state.task.description=t),required:""},null,512),[[s["G"],c.state.task.description]]),Object(s["h"])("div",w,[Object(s["h"])("small",null,[v,Object(s["h"])(I,{modelValue:c.dueDate,"onUpdate:modelValue":e[7]||(e[7]=t=>c.dueDate=t)},null,8,["modelValue"])])]),f])],32)])])])])]))});var g=a("8a4e"),I=a("1157"),x=a.n(I),D=a("83fc"),V=a("63b7"),C={name:"CreateTaskModal",setup(){const t=Object(s["y"])(new Date),e=Object(s["x"])({task:{},tasks:Object(s["b"])(()=>D["a"].tasks),rental:Object(s["b"])(()=>D["a"].rental),viewportWidth:window.innerWidth});return Object(s["r"])(()=>{window.addEventListener("resize",()=>{e.viewportWidth=window.innerWidth})}),{state:e,dueDate:t,async createTask(){try{e.task.dueDate=t,e.task.rentalId=e.rental.id,await V["a"].createTask(e.task),e.task={},x()("#create-task").modal("hide"),x()(".modal-backdrop").remove()}catch(a){g["a"].error(a)}}}}};C.render=T,C.__scopeId="data-v-30b5112f";e["default"]=C}}]);